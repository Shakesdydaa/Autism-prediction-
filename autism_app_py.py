# -*- coding: utf-8 -*-
"""autism-app.py

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1vVfVX3morIdxSMqZllagRp5LlvxyElgn
"""

import streamlit as st
import pandas as pd
import pickle

# Load the model
with open('autism_model.pkl', 'rb') as f:
    model = pickle.load(f)

st.title("Autism Prediction App")
st.write("Please fill out the screening questions:")

# Input form
A1 = st.selectbox("A1 Score", [0, 1])
A2 = st.selectbox("A2 Score", [0, 1])
A3 = st.selectbox("A3 Score", [0, 1])
A4 = st.selectbox("A4 Score", [0, 1])
A5 = st.selectbox("A5 Score", [0, 1])
A6 = st.selectbox("A6 Score", [0, 1])
A7 = st.selectbox("A7 Score", [0, 1])
A8 = st.selectbox("A8 Score", [0, 1])
A9 = st.selectbox("A9 Score", [0, 1])
A10 = st.selectbox("A10 Score", [0, 1])
age = st.number_input("Age", min_value=1, max_value=100)
gender = st.selectbox("Gender", ['m', 'f'])
jaundice = st.selectbox("Jaundice at birth", ['yes', 'no'])
austim = st.selectbox("Family History of Autism", ['yes', 'no'])
used_app_before = st.selectbox("Used App Before?", ['yes', 'no'])

# Map inputs
gender_map = {'m': 1, 'f': 0}
binary_map = {'yes': 1, 'no': 0}

# Create DataFrame from inputs
input_data = pd.DataFrame([[
    A1, A2, A3, A4, A5, A6, A7, A8, A9, A10,
    age,
    gender_map[gender],
    binary_map[jaundice],
    binary_map[austim],
    binary_map[used_app_before]
]])

# Prediction
if st.button("Predict"):
    prediction = model.predict(input_data)
    st.success("Prediction: **ASD**" if prediction[0] == 1 else "Prediction: **Not ASD**")